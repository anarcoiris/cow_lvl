[2025-10-01 00:32:53] INFO root: init_logging: logfile=logs\log_20250930_223253.txt
[2025-10-01 00:32:53] INFO __main__: Logging initialized
[2025-10-01 00:32:56] INFO root: Config loaded from config\gui_config.json
[2025-10-01 00:33:43] INFO root: Preview loaded: 200 rows.
[2025-10-01 00:33:48] INFO root: Prepare: loading data from sqlite...
[2025-10-01 00:33:48] INFO root: Prepare thread started.
[2025-10-01 00:33:48] INFO root: Loaded 106195 rows from sqlite.
[2025-10-01 00:33:48] INFO root: Computed features. Shape: (106195, 47)
[2025-10-01 00:33:48] INFO root: dropna: before=106195, after=106146, removed=49
[2025-10-01 00:33:48] INFO root: No numeric feature columns detected after cleaning. Abort.
[2025-10-01 00:34:04] INFO root: Prepare: loading data from sqlite...
[2025-10-01 00:34:04] INFO root: Prepare thread started.
[2025-10-01 00:34:04] INFO root: Loaded 106196 rows from sqlite.
[2025-10-01 00:34:04] INFO root: Computed features. Shape: (106196, 47)
[2025-10-01 00:34:04] INFO root: dropna: before=106196, after=106147, removed=49
[2025-10-01 00:34:04] INFO root: Feature cols selected (39): ['log_close', 'ret_1', 'log_ret_1', 'ret_5', 'log_ret_5', 'sma_5', 'sma_20', 'sma_50', 'ema_5', 'ema_20', 'ema_50', 'ma_diff_20', 'bb_m', 'bb_std', 'bb_up', 'bb_dn', 'bb_width', 'rsi_14', 'atr_14', 'raw_vol_10']...
[2025-10-01 00:34:04] INFO root: Building sequences...
[2025-10-01 00:34:10] INFO root: Sequences built: N=106010, seq_len=128, features=39
[2025-10-01 00:34:19] INFO root: Scaler fitted and df_scaled prepared.
[2025-10-01 00:34:19] INFO root: Preview raw (first 5 rows):
   id   symbol timeframe          ts       open       high        low      close     volume  source     created_at     updated_at                 timestamp
0   1  BTCUSDT        1m  1752231240  118117.79  118129.59  118090.00  118093.63    9.27987  influx  1759186315000  1759186315000 2025-07-11 10:54:00+00:00
1   2  BTCUSDT        1m  1752231300  118093.63  118093.63  117980.00  117980.01  111.28787  influx  1759186315000  1759186315000 2025-07-11 10:55:00+00:00
2   3  BTCUSDT        1m  1752231360  117980.00  118023.34  117980.00  118022.39    9.13797  influx  1759186315000  1759186315000 2025-07-11 10:56:00+00:00
3   4  BTCUSDT        1m  1752231420  118022.38  118022.38  117946.72  117968.01   30.41224  influx  1759186315000  1759186315000 2025-07-11 10:57:00+00:00
4   5  BTCUSDT        1m  1752231480  117968.01  117968.01  117964.71  117964.72    7.69926  influx  1759186315000  1759186315000 2025-07-11 10:58:00+00:00
[2025-10-01 00:34:19] INFO root: Preview features (first 5 rows):
           close           high            low  log_close     ret_1  log_ret_1     ret_5  log_ret_5          sma_5         sma_20         sma_50          ema_5         ema_20         ema_50  ma_diff_20           bb_m     bb_std          bb_up          bb_dn  bb_width     rsi_14     atr_14  raw_vol_10  raw_vol_30      fib_r_236  dist_fib_r_236      fib_r_382  dist_fib_r_382      fib_r_500  dist_fib_r_500      fib_r_618  dist_fib_r_618      fib_r_786  dist_fib_r_786   fibext_1272  dist_fibext_1272    fibext_1618  dist_fibext_1618    fibext_2000  dist_fibext_2000  td_buy_setup  td_sell_setup    volume           timestamp       open   symbol timeframe
0  117783.406250  117802.007812  117783.406250  11.676602 -0.000158  -0.000158  0.000130   0.000130  117794.093750  117726.835938  117817.375000  117788.960938  117759.851562  117815.523438   56.574001  117726.835938  62.577103  117851.992188  117601.679688  0.002126  74.286270  28.154285    0.000165    0.000244  117712.117188        0.130470  117791.898438       -0.015530  117856.375000       -0.133530  117920.851562       -0.251530  118012.656250       -0.419530  118278.21875         -0.905530  118467.281250         -1.251530  118676.023438         -1.633530             1              0   9.38562 2025-07-11 11:43:00  117802.00  BTCUSDT        1m
1  117763.007812  117783.421875  117751.218750  11.676430 -0.000173  -0.000173 -0.000181  -0.000181  117789.820312  117732.296875  117810.757812  117780.312500  117760.156250  117813.460938   30.714001  117732.296875  60.602898  117853.500000  117611.093750  0.002059  63.416958  25.852142    0.000176    0.000238  117707.632812        0.104987  117784.640625       -0.041013  117846.882812       -0.159013  117909.117188       -0.277013  117997.726562       -0.445013  118254.06250         -0.931013  118436.554688         -1.277013  118638.039062         -1.659013             2              0   8.65069 2025-07-11 11:44:00  117783.42  BTCUSDT        1m
2  117740.632812  117763.007812  117727.843750  11.676239 -0.000190  -0.000190 -0.000493  -0.000493  117778.210938  117738.859375  117805.968750  117767.085938  117758.296875  117810.609375    1.772500  117738.859375  53.255333  117845.367188  117632.343750  0.001809  59.572964  27.683571    0.000189    0.000234  117707.632812        0.062555  117784.640625       -0.083445  117846.882812       -0.201445  117909.117188       -0.319445  117997.726562       -0.487445  118254.06250         -0.973445  118436.554688         -1.319445  118638.039062         -1.701445             3              0  12.10969 2025-07-11 11:45:00  117763.01  BTCUSDT        1m
3  117710.046875  117740.632812  117710.046875  11.675980 -0.000260  -0.000260 -0.000781  -0.000781  117759.820312  117743.359375  117799.726562  117748.070312  117753.703125  117806.664062  -33.310501  117743.359375  45.987026  117835.335938  117651.382812  0.001562  48.687981  24.362858    0.000138    0.000239  117707.632812        0.004577  117784.640625       -0.141423  117846.882812       -0.259423  117909.117188       -0.377423  117997.726562       -0.545423  118254.06250         -1.031423  118436.554688         -1.377423  118638.039062         -1.759423             4              0   9.20696 2025-07-11 11:46:00  117740.63  BTCUSDT        1m
4  117700.007812  117710.062500  117700.000000  11.675895 -0.000085  -0.000085 -0.000866  -0.000866  117739.421875  117744.781250  117794.367188  117732.054688  117748.585938  117802.476562  -44.774502  117744.781250  44.045681  117832.875000  117656.695312  0.001496  39.702305  22.860714    0.000137    0.000233  117707.632812       -0.014458  117784.640625       -0.160458  117846.882812       -0.278458  117909.117188       -0.396458  117997.726562       -0.564458  118254.06250         -1.050458  118436.554688         -1.396458  118638.039062         -1.778458             5              0  10.32029 2025-07-11 11:47:00  117710.06  BTCUSDT        1m
[2025-10-01 00:34:19] INFO root: Preview scaled (first 5 rows):
           close           high            low  log_close     ret_1  log_ret_1     ret_5  log_ret_5     sma_5    sma_20    sma_50     ema_5    ema_20    ema_50  ma_diff_20      bb_m    bb_std     bb_up     bb_dn  bb_width    rsi_14    atr_14  raw_vol_10  raw_vol_30  fib_r_236  dist_fib_r_236  fib_r_382  dist_fib_r_382  fib_r_500  dist_fib_r_500  fib_r_618  dist_fib_r_618  fib_r_786  dist_fib_r_786  fibext_1272  dist_fibext_1272  fibext_1618  dist_fibext_1618  fibext_2000  dist_fibext_2000  td_buy_setup  td_sell_setup    volume           timestamp       open   symbol timeframe
0  117783.406250  117802.007812  117783.406250   0.655103 -0.361073  -0.360204  0.135182   0.135397  0.655633  0.634492  0.663249  0.654046  0.645043  0.662983    0.462635  0.634492 -0.170175  0.625710  0.642461 -0.186105  1.292483 -0.492577   -0.699502   -0.502280   0.672016       -0.442216   0.675226       -0.442216   0.677710       -0.442216   0.680096       -0.442216   0.683326       -0.442216     0.691542         -0.442216     0.696381         -0.442216     0.700772         -0.442216     -0.339608       -0.63702   9.38562 2025-07-11 11:43:00  117802.00  BTCUSDT        1m
1  117763.007812  117783.421875  117751.218750   0.648849 -0.396152  -0.395224 -0.184773  -0.183946  0.654285  0.636216  0.661159  0.651316  0.645139  0.662331    0.252922  0.636216 -0.203750  0.626184  0.645441 -0.219009  0.711888 -0.562607   -0.656046   -0.525805   0.670595       -0.521690   0.672929       -0.521690   0.674709       -0.521690   0.676391       -0.521691   0.678622       -0.521690     0.683986         -0.521690     0.686833         -0.521690     0.689066         -0.521691     -0.044960       -0.63702   8.65069 2025-07-11 11:44:00  117783.42  BTCUSDT        1m
2  117740.632812  117763.007812  117727.843750   0.641939 -0.434752  -0.433758 -0.505785  -0.504444  0.650621  0.638288  0.659646  0.647141  0.644552  0.661430    0.018220  0.638288 -0.328710  0.623626  0.652167 -0.341341  0.506557 -0.506896   -0.610144   -0.543330   0.670595       -0.654022   0.672929       -0.654022   0.674709       -0.654022   0.676391       -0.654022   0.678622       -0.654022     0.683986         -0.654022     0.686833         -0.654022     0.689066         -0.654022      0.249688       -0.63702  12.10969 2025-07-11 11:45:00  117763.01  BTCUSDT        1m
3  117710.046875  117740.632812  117710.046875   0.632540 -0.594439  -0.593181 -0.802230  -0.800502  0.644816  0.639708  0.657674  0.641140  0.643101  0.660183   -0.266287  0.639708 -0.452323  0.620472  0.658194 -0.462327 -0.074874 -0.607911   -0.800692   -0.523137   0.670595       -0.834840   0.672929       -0.834840   0.674709       -0.834840   0.676391       -0.834840   0.678622       -0.834840     0.683986         -0.834840     0.686833         -0.834840     0.689066         -0.834840      0.544336       -0.63702   9.20696 2025-07-11 11:46:00  117740.63  BTCUSDT        1m
4  117700.007812  117710.062500  117700.000000   0.629465 -0.194701  -0.194125 -0.890005  -0.888179  0.638378  0.640157  0.655981  0.636085  0.641485  0.658859   -0.359255  0.640157 -0.485339  0.619698  0.659875 -0.494642 -0.554853 -0.653606   -0.807138   -0.548718   0.670595       -0.894206   0.672929       -0.894206   0.674709       -0.894206   0.676391       -0.894206   0.678622       -0.894206     0.683986         -0.894206     0.686833         -0.894206     0.689066         -0.894206      0.838984       -0.63702  10.32029 2025-07-11 11:47:00  117710.06  BTCUSDT        1m
[2025-10-01 00:34:19] INFO root: Prepare stage finished successfully.
[2025-10-01 00:34:22] INFO root: Config saved to config\gui_config.json
[2025-10-01 00:40:02] INFO root: Config saved to config\gui_config.json
[2025-10-01 00:40:09] INFO root: Prepare: loading data from sqlite...
[2025-10-01 00:40:09] INFO root: Prepare thread started.
[2025-10-01 00:40:10] INFO root: Loaded 106202 rows from sqlite.
[2025-10-01 00:40:11] INFO root: Computed features. Shape: (106202, 47)
[2025-10-01 00:40:11] INFO root: dropna: before=106202, after=106153, removed=49
[2025-10-01 00:40:11] INFO root: Feature cols selected (18): ['log_close', 'log_ret_1', 'log_ret_5', 'ema_5', 'ema_20', 'ema_50', 'bb_m', 'bb_width', 'rsi_14', 'atr_14', 'dist_fib_r_236', 'dist_fib_r_382', 'dist_fib_r_618', 'dist_fib_r_786', 'dist_fibext_1272', 'dist_fibext_1618', 'td_buy_setup', 'td_sell_setup']
[2025-10-01 00:40:11] INFO root: Building sequences...
[2025-10-01 00:40:12] INFO root: Sequences built: N=106016, seq_len=128, features=18
[2025-10-01 00:40:15] INFO root: Scaler fitted and df_scaled prepared.
[2025-10-01 00:40:15] INFO root: Preview raw (first 5 rows):
   id   symbol timeframe          ts       open       high        low      close     volume  source     created_at     updated_at                 timestamp
0   1  BTCUSDT        1m  1752231240  118117.79  118129.59  118090.00  118093.63    9.27987  influx  1759186315000  1759186315000 2025-07-11 10:54:00+00:00
1   2  BTCUSDT        1m  1752231300  118093.63  118093.63  117980.00  117980.01  111.28787  influx  1759186315000  1759186315000 2025-07-11 10:55:00+00:00
2   3  BTCUSDT        1m  1752231360  117980.00  118023.34  117980.00  118022.39    9.13797  influx  1759186315000  1759186315000 2025-07-11 10:56:00+00:00
3   4  BTCUSDT        1m  1752231420  118022.38  118022.38  117946.72  117968.01   30.41224  influx  1759186315000  1759186315000 2025-07-11 10:57:00+00:00
4   5  BTCUSDT        1m  1752231480  117968.01  117968.01  117964.71  117964.72    7.69926  influx  1759186315000  1759186315000 2025-07-11 10:58:00+00:00
[2025-10-01 00:40:15] INFO root: Preview features (first 5 rows):
           close           high            low  log_close     ret_1  log_ret_1     ret_5  log_ret_5          sma_5         sma_20         sma_50          ema_5         ema_20         ema_50  ma_diff_20           bb_m     bb_std          bb_up          bb_dn  bb_width     rsi_14     atr_14  raw_vol_10  raw_vol_30      fib_r_236  dist_fib_r_236      fib_r_382  dist_fib_r_382      fib_r_500  dist_fib_r_500      fib_r_618  dist_fib_r_618      fib_r_786  dist_fib_r_786   fibext_1272  dist_fibext_1272    fibext_1618  dist_fibext_1618    fibext_2000  dist_fibext_2000  td_buy_setup  td_sell_setup    volume           timestamp       open   symbol timeframe
0  117783.406250  117802.007812  117783.406250  11.676602 -0.000158  -0.000158  0.000130   0.000130  117794.093750  117726.835938  117817.375000  117788.960938  117759.851562  117815.523438   56.574001  117726.835938  62.577103  117851.992188  117601.679688  0.002126  74.286270  28.154285    0.000165    0.000244  117712.117188        0.130470  117791.898438       -0.015530  117856.375000       -0.133530  117920.851562       -0.251530  118012.656250       -0.419530  118278.21875         -0.905530  118467.281250         -1.251530  118676.023438         -1.633530             1              0   9.38562 2025-07-11 11:43:00  117802.00  BTCUSDT        1m
1  117763.007812  117783.421875  117751.218750  11.676430 -0.000173  -0.000173 -0.000181  -0.000181  117789.820312  117732.296875  117810.757812  117780.312500  117760.156250  117813.460938   30.714001  117732.296875  60.602898  117853.500000  117611.093750  0.002059  63.416958  25.852142    0.000176    0.000238  117707.632812        0.104987  117784.640625       -0.041013  117846.882812       -0.159013  117909.117188       -0.277013  117997.726562       -0.445013  118254.06250         -0.931013  118436.554688         -1.277013  118638.039062         -1.659013             2              0   8.65069 2025-07-11 11:44:00  117783.42  BTCUSDT        1m
2  117740.632812  117763.007812  117727.843750  11.676239 -0.000190  -0.000190 -0.000493  -0.000493  117778.210938  117738.859375  117805.968750  117767.085938  117758.296875  117810.609375    1.772500  117738.859375  53.255333  117845.367188  117632.343750  0.001809  59.572964  27.683571    0.000189    0.000234  117707.632812        0.062555  117784.640625       -0.083445  117846.882812       -0.201445  117909.117188       -0.319445  117997.726562       -0.487445  118254.06250         -0.973445  118436.554688         -1.319445  118638.039062         -1.701445             3              0  12.10969 2025-07-11 11:45:00  117763.01  BTCUSDT        1m
3  117710.046875  117740.632812  117710.046875  11.675980 -0.000260  -0.000260 -0.000781  -0.000781  117759.820312  117743.359375  117799.726562  117748.070312  117753.703125  117806.664062  -33.310501  117743.359375  45.987026  117835.335938  117651.382812  0.001562  48.687981  24.362858    0.000138    0.000239  117707.632812        0.004577  117784.640625       -0.141423  117846.882812       -0.259423  117909.117188       -0.377423  117997.726562       -0.545423  118254.06250         -1.031423  118436.554688         -1.377423  118638.039062         -1.759423             4              0   9.20696 2025-07-11 11:46:00  117740.63  BTCUSDT        1m
4  117700.007812  117710.062500  117700.000000  11.675895 -0.000085  -0.000085 -0.000866  -0.000866  117739.421875  117744.781250  117794.367188  117732.054688  117748.585938  117802.476562  -44.774502  117744.781250  44.045681  117832.875000  117656.695312  0.001496  39.702305  22.860714    0.000137    0.000233  117707.632812       -0.014458  117784.640625       -0.160458  117846.882812       -0.278458  117909.117188       -0.396458  117997.726562       -0.564458  118254.06250         -1.050458  118436.554688         -1.396458  118638.039062         -1.778458             5              0  10.32029 2025-07-11 11:47:00  117710.06  BTCUSDT        1m
[2025-10-01 00:40:15] INFO root: Preview scaled (first 5 rows):
           close           high            low  log_close     ret_1  log_ret_1     ret_5  log_ret_5          sma_5         sma_20         sma_50     ema_5    ema_20    ema_50  ma_diff_20      bb_m     bb_std          bb_up          bb_dn  bb_width    rsi_14    atr_14  raw_vol_10  raw_vol_30      fib_r_236  dist_fib_r_236      fib_r_382  dist_fib_r_382      fib_r_500  dist_fib_r_500      fib_r_618  dist_fib_r_618      fib_r_786  dist_fib_r_786   fibext_1272  dist_fibext_1272    fibext_1618  dist_fibext_1618    fibext_2000  dist_fibext_2000  td_buy_setup  td_sell_setup    volume           timestamp       open   symbol timeframe
0  117783.406250  117802.007812  117783.406250   0.655162 -0.000158  -0.360212  0.000130   0.135395  117794.093750  117726.835938  117817.375000  0.654105  0.645101  0.663042   56.574001  0.634550  62.577103  117851.992188  117601.679688 -0.186081  1.292493 -0.492567    0.000165    0.000244  117712.117188       -0.442249  117791.898438       -0.442249  117856.375000       -0.133530  117920.851562       -0.442249  118012.656250       -0.442249  118278.21875         -0.442249  118467.281250         -0.442249  118676.023438         -1.633530     -0.339597      -0.637027   9.38562 2025-07-11 11:43:00  117802.00  BTCUSDT        1m
1  117763.007812  117783.421875  117751.218750   0.648908 -0.000173  -0.395232 -0.000181  -0.183955  117789.820312  117732.296875  117810.757812  0.651375  0.645198  0.662390   30.714001  0.636275  60.602898  117853.500000  117611.093750 -0.218986  0.711888 -0.562599    0.000176    0.000238  117707.632812       -0.521725  117784.640625       -0.521725  117846.882812       -0.159013  117909.117188       -0.521725  117997.726562       -0.521725  118254.06250         -0.521725  118436.554688         -0.521724  118638.039062         -1.659013     -0.044943      -0.637027   8.65069 2025-07-11 11:44:00  117783.42  BTCUSDT        1m
2  117740.632812  117763.007812  117727.843750   0.641997 -0.000190  -0.433767 -0.000493  -0.504459  117778.210938  117738.859375  117805.968750  0.647200  0.644611  0.661489    1.772500  0.638346  53.255333  117845.367188  117632.343750 -0.341321  0.506553 -0.506886    0.000189    0.000234  117707.632812       -0.654058  117784.640625       -0.654058  117846.882812       -0.201445  117909.117188       -0.654058  117997.726562       -0.654058  118254.06250         -0.654058  118436.554688         -0.654058  118638.039062         -1.701445      0.249712      -0.637027  12.10969 2025-07-11 11:45:00  117763.01  BTCUSDT        1m
3  117710.046875  117740.632812  117710.046875   0.632599 -0.000260  -0.593193 -0.000781  -0.800524  117759.820312  117743.359375  117799.726562  0.641198  0.643160  0.660242  -33.310501  0.639767  45.987026  117835.335938  117651.382812 -0.462310 -0.074889 -0.607904    0.000138    0.000239  117707.632812       -0.834878  117784.640625       -0.834878  117846.882812       -0.259423  117909.117188       -0.834878  117997.726562       -0.834878  118254.06250         -0.834878  118436.554688         -0.834878  118638.039062         -1.759423      0.544366      -0.637027   9.20696 2025-07-11 11:46:00  117740.63  BTCUSDT        1m
4  117700.007812  117710.062500  117700.000000   0.629523 -0.000085  -0.194130 -0.000866  -0.888203  117739.421875  117744.781250  117794.367188  0.636143  0.641544  0.658918  -44.774502  0.640216  44.045681  117832.875000  117656.695312 -0.494625 -0.554876 -0.653600    0.000137    0.000233  117707.632812       -0.894244  117784.640625       -0.894244  117846.882812       -0.278458  117909.117188       -0.894244  117997.726562       -0.894244  118254.06250         -0.894244  118436.554688         -0.894245  118638.039062         -1.778458      0.839020      -0.637027  10.32029 2025-07-11 11:47:00  117710.06  BTCUSDT        1m
[2025-10-01 00:40:15] INFO root: Prepare stage finished successfully.
[2025-10-01 15:03:41] CRITICAL root: Uncaught exception
Traceback (most recent call last):
  File "C:\Users\soyko\Documents\git2\Market\project assistant\env.model_0.9\0.9f\fibopkg5\trading_gui_extended.py", line 2697, in <module>
    main()
  File "C:\Users\soyko\Documents\git2\Market\project assistant\env.model_0.9\0.9f\fibopkg5\trading_gui_extended.py", line 2693, in main
    root.mainloop()
  File "C:\Users\soyko\AppData\Local\Programs\Python\Python310\lib\tkinter\__init__.py", line 1458, in mainloop
    self.tk.mainloop(n)
KeyboardInterrupt
